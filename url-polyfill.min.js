const URL=function(t,e){let n,r,s,i,o,c,h,u;function f(t,e,n){return"@"===n?"":n}if(Object.defineProperty(this,"hash",{get:function(){return n},set:function(t){return n=t.length>0?"#"+t.match(/^#*(.*)/)[1]:"",t}}),Object.defineProperty(this,"host",{get:function(){return o.length>0?r+":"+o:r},set:function(t){const e=t.split(":");return this.hostname=e[0],this.port=e[1],t}}),Object.defineProperty(this,"hostname",{get:function(){return r},set:function(t){return r=t.length>0?encodeURIComponent(t):r,t}}),Object.defineProperty(this,"href",{get:function(){let t=c+"//";return(u.length>0||s.length>0)&&(u.length>0&&(t+=u),s.length>0&&(t+=":"+s),t+="@"),t+=r,o.length>0&&(t+=":"+o),t+=i+h+n,t},set:function(t){this.protocol=t;const e=(t=t.replace(/.*?:\/*/,"")).match(/([^:]*).*@/);this.username=e?e[1]:"";const n=(t=t.replace(/([^:]*):?(.*@)/,f)).match(/.*(?=@)/);this.password=n?n[0]:"",t=t.replace(/.*@/,""),this.hostname=t.match(/[^:/?]*/);const r=t.match(/:(\d+)/);this.port=r?r[1]:"";const s=t.match(/\/([^?#]*)/);this.pathname=s?s[1]:"";const i=t.match(/\?[^#]*/);this.search=i?i[0]:"";const o=t.match(/\#.*/);this.hash=o?o[0]:""}}),Object.defineProperty(this,"origin",{get:function(){const t=c+"//"+r;return o.length>0&&(t+=":"+o),t},set:function(t){this.protocol=t,t=t.replace(/.*?:\/*/,""),this.hostname=t.match(/[^:/?]*/);const e=t.match(/:(\d+)/);this.port=e?e[1]:""}}),Object.defineProperty(this,"password",{get:function(){return s},set:function(t){return s=encodeURIComponent(t),t}}),Object.defineProperty(this,"pathname",{get:function(){return i},set:function(t){return i="/"+t.match(/\/?(.*)/)[1],t}}),Object.defineProperty(this,"port",{get:function(){return o},set:function(t){return o=isNaN(t)||""===t?"":Math.min(65535,t).toString(),t}}),Object.defineProperty(this,"protocol",{get:function(){return c},set:function(t){return c=t.match(/[^/:]*/)[0]+":",t}}),Object.defineProperty(this,"search",{get:function(){return h},set:function(t){return h=t.length>0?"?"+t.match(/\??(.*)/)[1]:"",t}}),Object.defineProperty(this,"username",{get:function(){return u},set:function(t){u=t}}),"string"==typeof t){const n=/^[a-zA-z]+:\/\/.*/.test(t),r=/^[a-zA-z]+:\/\/.*/.test(e);if(n)this.href=t;else{if(!r)throw new TypeError('URL string is not valid. If using a relative url, a second argument needs to be passed representing the base URL. Example: new URL("relative/path", "http://www.example.com");');this.href=e+t}}else n=t.hash,r=t.hostname,s=t.password?t.password:"",i=t.pathname,o=t.port,c=t.protocol,h=t.search,u=t.username?t.username:"";this.searchParams=function(t){const e=[],n=[];if(t.search.length>0){t.search.slice(1).split("&").forEach((function(t){const r=t.split("=");e.push(r[0]),n.push(r[1])}))}function r(){0===e.length?t.search="":t.search=e.map((function(t,e){return t+"="+n[e]})).join("&")}return{append:function(t,s){e.push(t),n.push(s),r()},delete:function(t){for(;e.indexOf(t)>-1;)n.splice(e.indexOf(t),1),e.splice(e.indexOf(t),1);r()},entries:function(){return e.map((function(t,e){return[t,n[e]]}))},get:function(t){return n[e.indexOf(t)]},getAll:function(t){return n.filter((function(n,r){return e[r]===t}))},has:function(t){return e.indexOf(t)>-1},keys:function(){return e},set:function(t,s){if(-1===e.indexOf(t))this.append(t,s);else{let i=!0;const o=[];e=e.filter((function(e,r){return e!==t?(o.push(n[r]),!0):!!i&&(i=!1,o.push(s),!0)})),n=o,r()}},sort:function(){const t=this.entries().sort();e=[],n=[],t.forEach((function(t){e.push(t[0]),n.push(t[1])})),r()},toString:function(){return t.search.slice(1)},values:function(){return n}}}(this)};export default URL;